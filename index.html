<!DOCTYPE html>

<html lang="fi">
<head>
<meta charset="UTF-8">
<title>Juhlasivu</title>
<link id="favicon" rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text y='32' font-size='32'>ðŸŽ‰</text></svg>">
<style>
  body { margin:0; height:100vh; overflow:hidden; display:flex; flex-direction:column; align-items:center; justify-content:center; font-family:Arial, sans-serif; transition:background 0.5s; }
  h1 { font-size:3em; animation:pop 1.5s ease-out forwards; z-index:10; text-align:center; }
  @keyframes pop { 0%{transform:scale(0);opacity:0;}60%{transform:scale(1.2);opacity:1;}100%{transform:scale(1);} }
  .emoji { position:absolute; user-select:none; pointer-events:none; animation-name:fall; animation-timing-function:linear; animation-iteration-count:infinite; }
  @keyframes fall { 0%{transform:translateY(-10vh) rotate(0deg);}100%{transform:translateY(110vh) rotate(360deg);} }
  .controls { position:fixed; top:10px; left:50%; transform:translateX(-50%); background:rgba(255,255,255,0.8); padding:10px; border-radius:10px; display:flex; flex-wrap:wrap; gap:5px; z-index:20; }
  .controls input { width:100px; }
</style>
</head>
<body>
<div class="controls">
  <input type="text" id="tervehdys" placeholder="Tervehdys (esim. HyvÃ¤Ã¤)">
  <input type="text" id="nimi" placeholder="Nimi">
  <input type="text" id="juhla" placeholder="Juhla">
  <input type="text" id="emoji" placeholder="Emoji (esim. â¤ï¸ðŸ¥³)">
  <input type="number" id="count" placeholder="MÃ¤Ã¤rÃ¤">
  <input type="number" id="duration" placeholder="Kesto">
  <button onclick="updateMessage()">PÃ¤ivitÃ¤</button>
</div>
<h1 id="message">HyvÃ¤Ã¤ juhlaa!</h1>
<script>
const params = new URLSearchParams(window.location.search);

function createEmojis(emojis,count,sizeMin,sizeMax,duration){
document.querySelectorAll('.emoji').forEach(e=>e.remove());
for(let i=0;i<count;i++){
const e=document.createElement('div');
e.className='emoji';
const emojiChar=emojis[Math.floor(Math.random()*emojis.length)];
e.textContent=emojiChar;
e.style.left=Math.random()*100+'vw';
e.style.fontSize=(sizeMin+Math.random()*(sizeMax-sizeMin))+'px';
e.style.animationDuration=(duration+Math.random()*duration)+'s';
e.style.animationDelay=Math.random()*duration+'s';
document.body.appendChild(e);
}
}

function updateFavicon(emojis){
let i=0;
setInterval(()=>{
const favicon=document.getElementById('favicon');
const emojiChar=emojis[i%emojis.length];
favicon.href=`data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text y='32' font-size='32'>${emojiChar}</text></svg>`;
i++;
},1000);
}

function updateMessage(){
const tervehdys=document.getElementById('tervehdys').value||params.get('tervehdys')||'HyvÃ¤Ã¤';
const nimi=document.getElementById('nimi').value||params.get('nimi')||'ystÃ¤vÃ¤';
const juhla=document.getElementById('juhla').value||params.get('juhla')||'juhlaa';
const emojiStr=document.getElementById('emoji').value||params.get('emoji')||'ðŸŽ‰';
const emojis=[...emojiStr];
const count=parseInt(document.getElementById('count').value||params.get('count'))||40;
const duration=parseFloat(document.getElementById('duration').value||params.get('duration'))||3;

document.getElementById('message').textContent=`${tervehdys} ${juhla}, ${nimi}! ${emojiStr}`;
createEmojis(emojis,count,20,40,duration);
updateFavicon(emojis);
}

updateMessage(); </script>

</body>
</html>
